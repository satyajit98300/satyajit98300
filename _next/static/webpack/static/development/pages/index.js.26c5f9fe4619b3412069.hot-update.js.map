{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.26c5f9fe4619b3412069.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport Link from \"next/link\";\nimport Head from 'next/head';\nimport $ from 'jquery';\nimport React, { Component } from 'react';\nimport { Formik } from 'formik';\n\nclass Home extends Component {\n  // constructor() {\n  //   // super();\n  //   // this.state = {\n  //   //   blogPosts: [],\n  //   // };\n  // }\n\n  componentDidMount() {\n    if (this.getCookie(\"participant_name\") != \"\") {\n      this.participant_name = this.getCookie(\"participant_name\");\n    }\n\n    var lFollowX = 0,\n      lFollowY = 0,\n      x = 0,\n      y = 0,\n      friction = 1 / 30;\n\n    function moveBackground() {\n      x += (lFollowX - x) * friction;\n      y += (lFollowY - y) * friction;\n\n      var translate = 'translate(' + x + 'px, ' + y + 'px) scale(1.1)';\n\n      $('.bg').css({\n        '-webit-transform': translate,\n        '-moz-transform': translate,\n        'transform': translate\n      });\n\n      window.requestAnimationFrame(moveBackground);\n    }\n\n    $(window).on('mousemove click', function (e) {\n\n      var lMouseX = Math.max(-100, Math.min(100, $(window).width() / 2 - e.clientX));\n      var lMouseY = Math.max(-100, Math.min(100, $(window).height() / 2 - e.clientY));\n      lFollowX = (20 * lMouseX) / 100; // 100 : 12 = lMouxeX : lFollow\n      lFollowY = (10 * lMouseY) / 100;\n\n    });\n\n    moveBackground();\n\n    Detectizr.detect({\n      detectScreen: false\n    });\n    $(document).ready(function () {\n      $(\"#bb-nav-last\").click(function () {\n        $(this)\n          .parents(\".body-wrapper\")\n          .addClass(\"hide-message\");\n      });\n      $(\"#bb-nav-first\").click(function () {\n        $(this)\n          .parents(\".body-wrapper\")\n          .removeClass(\"hide-message\");\n      });\n    });\n\n    /// Video Script Start\n    (\"use strict\");\n\n    var videoElement = document.getElementById(\"preview\");\n    var audioSelect = document.querySelector(\"select#user_mic_list\");\n    var videoSelect = document.querySelector(\"select#user_camera_list\");\n    var speakerSelect = document.querySelector(\"select#user_speaker_list\");\n\n    audioSelect.onchange = getStream;\n    videoSelect.onchange = getStream;\n    speakerSelect.onchange = getStream;\n\n    getStream()\n      .then(getDevices)\n      .then(gotDevices);\n\n    function getDevices() {\n      // AFAICT in Safari this only gets default devices until gUM is called :/\n      return navigator.mediaDevices.enumerateDevices();\n    }\n\n    function gotDevices(deviceInfos) {\n      window.deviceInfos = deviceInfos; // make available to console\n      for (const deviceInfo of deviceInfos) {\n        const option = document.createElement(\"option\");\n        option.value = deviceInfo.deviceId;\n        if (deviceInfo.kind === \"audioinput\") {\n          option.text =\n            deviceInfo.label || `Microphone ${audioSelect.length + 1}`;\n          audioSelect.appendChild(option);\n        } else if (deviceInfo.kind === \"videoinput\") {\n          option.text = deviceInfo.label || `Camera ${videoSelect.length + 1}`;\n          videoSelect.appendChild(option);\n        } else if (deviceInfo.kind === \"audiooutput\") {\n          option.text =\n            deviceInfo.label || `Speaker ${speakerSelect.length + 1}`;\n          speakerSelect.appendChild(option);\n        }\n\n        //speakerSelect\n      }\n    }\n\n    function getStream() {\n      $(\"#preview\").hide();\n      $(\"#loader\").show();\n      if (window.stream) {\n        window.stream.getTracks().forEach(track => {\n          track.stop();\n        });\n      }\n      const audioSource = audioSelect.value;\n      const videoSource = videoSelect.value;\n      const constraints = {\n        audio: {\n          deviceId: audioSource ? {\n            exact: audioSource\n          } : undefined\n        },\n        video: {\n          deviceId: videoSource ? {\n            exact: videoSource\n          } : undefined\n        }\n      };\n      return navigator.mediaDevices\n        .getUserMedia(constraints)\n        .then(gotStream)\n        .catch(handleError);\n    }\n\n    function gotStream(stream) {\n      $(\"#preview\").show();\n      $(\"#loader\").hide();\n      window.stream = stream; // make stream available to console\n      audioSelect.selectedIndex = [...audioSelect.options].findIndex(\n        option => option.text === stream.getAudioTracks()[0].label\n      );\n      videoSelect.selectedIndex = [...videoSelect.options].findIndex(\n        option => option.text === stream.getVideoTracks()[0].label\n      );\n      videoElement.srcObject = stream;\n    }\n\n    function handleError(error) {\n      console.error(\"Error: \", error);\n    }\n\n  }\n\n  slugify(string) {\n    return string\n      .toString() // Cast to string\n      .toLowerCase() // Convert the string to lowercase letters\n      .normalize(\"NFD\") // The normalize() method returns the Unicode Normalization Form of a given string.\n      .trim() // Remove whitespace from both sides of a string\n      .replace(/\\s+/g, \"-\") // Replace spaces with -\n      .replace(/[^\\w\\-]+/g, \"\") // Remove all non-word chars\n      .replace(/\\-\\-+/g, \"-\"); // Replace multiple - with single -\n  }\n\n  // Submit and validate the join meeting form\n  JoinMeetingFormSubmit() {\n    this.$v.$touch();\n    if (!this.$v.$invalid) {\n\n      // Form is valid send data to server\n      this.submitStatus = \"PENDING\";\n      this.join_meeting_button_text = \"Joining ...\"\n      this.JoinMeeting();\n\n    }\n  }\n\n  // Cookie setting function\n  getCookie(cname) {\n    var name = cname + \"=\";\n    var decodedCookie = decodeURIComponent(document.cookie);\n    var ca = decodedCookie.split(\";\");\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) == \" \") {\n        c = c.substring(1);\n      }\n      if (c.indexOf(name) == 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n    return \"\";\n  }\n\n  // Data sending to server\n  async JoinMeeting() {\n    var formData = {\n      meeting_name: this.meeting_name,\n      participant_name: this.participant_name,\n      meeting_pin: this.meeting_pin,\n      meeting_slug: this.slugify(this.meeting_name)\n    }\n\n    formData = querystring.stringify(formData);\n    const MeetingData = await this.$axios.post(\"/join-meeting\", formData);\n    this.join_meeting_button_text = \"Join meeting\";\n    this.submitStatus = \"OK\";\n\n    // If all good, redirect to meeting page.\n    if (MeetingData.data.status == \"success\") {\n\n      this.$store.commit('meeting/add', MeetingData.data.result);\n\n      document.cookie = \"participant_name=\" + this.participant_name;\n      document.cookie = \"meeting_pin=\" + this.meeting_pin;\n      document.cookie = \"meeting_name=\" + this.meeting_name;\n\n      document.cookie = \"user_camera_list=\" + document.getElementById(\"user_camera_list\").value;\n      document.cookie = \"user_mic_list=\" + document.getElementById(\"user_mic_list\").value;\n      document.cookie = \"user_speaker_list=\" + document.getElementById(\"user_speaker_list\").value;\n      this.$toast.success(\"Please wait...\").goAway(3000);\n      this.$router.push(\"/\" + this.slugify(this.meeting_name));\n\n    } else {\n      this.$toast.error(\"Something went wrong. Please try again.\").goAway(3000);\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Head>\n          <title>Home</title>\n          <link rel=\"icon\" href=\"/favicon.ico\" />\n\n          <meta charSet=\"UTF-8\" />\n          <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n\n          <meta name=\"msapplication-square70x70logo\" content=\"images/icon70.png\" />\n          <meta name=\"msapplication-square150x150logo\" content=\"images/icon150.png\" />\n          <meta name=\"msapplication-square310x310logo\" content=\"images/icon310.png\" />\n\n          <link href=\"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap\" rel=\"stylesheet\" />\n          <script src=\"js/detectizr.min.js\"></script>\n          <script src=\"js/modernizr.custom.js\"></script>\n\n        </Head>\n\n        <div className=\"wrap\">\n          <div className=\"bg\"></div>\n\n          <Header />\n\n          <section className=\"body-wrapper\">\n            <div className=\"contener-wrapper\">\n              <div id=\"bb-bookblock\" className=\"c-bb-bookblock\">\n                <div className=\"c-bb-item\">\n                <Formik\n                        initialValues={{ participant_name:'', meeting_name: '' }}\n                        validate={values => {\n                          const errors = {};\n                          // if (!values.email) {\n                          //   errors.email = 'Required';\n                          // } else if (\n                          //   !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n                          // ) {\n                          //   errors.email = 'Invalid email address';\n                          // }\n                          return errors;\n                        }}\n                        onSubmit={(values, { setSubmitting }) => {\n                          setTimeout(() => {\n                            alert(JSON.stringify(values, null, 2));\n                            setSubmitting(false);\n                          }, 400);\n                        }}\n                      >\n                        {({\n                          values,\n                          errors,\n                          touched,\n                          handleChange,\n                          handleBlur,\n                          handleSubmit,\n                          isSubmitting,\n                          /* and other goodies */\n                        }) => (\n                          <form onSubmit={handleSubmit}>\n                  <ul className=\"two-box-content clearfix c-box-flip1\">\n\n                    <li className=\"right-section\">\n                      <p className=\"click-here-wrraper\">Want to schedule a meeting for the future? &nbsp;\n                       <Link href=\"/schedule\"><a id=\"bb-nav-last\" >Click here.</a></Link></p>\n                    </li>\n                    <li className=\"left-section\">\n                      <h1>Join the meeting</h1>\n\n                     \n                        <ul className=\"go-form\">\n                          <li>\n                            <div className=\"form-input-section\">\n                              <input type=\"text\" className=\"inputText\" placeholder=\"Alice Carroll\" id=\"participant_name\"\n                                name=\"participant_name\" \n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                                value={values.participant_name}\n                              />\n                              <span className=\"floating-label\">Your name</span>\n                            </div>\n                          </li>\n                          <li >\n                            <div className=\"form-input-section\" >\n                              <input type=\"text\" className=\"inputText\" placeholder=\"Alice In Wonderland\" id=\"meeting_name\"\n                                name=\"meeting_name\" \n                                onChange={handleChange}\n                                onBlur={handleBlur}\n                                value={values.participant_name}\n                                />\n                              <span className=\"floating-label\">Meeting name</span>\n                            </div>\n                          </li>\n                          <li>\n                            <div className=\"form-input-section\">\n                              <input type=\"text\" className=\"inputText\" placeholder=\"99499\" v-model=\"meeting_pin\" />\n                              <span className=\"floating-label\">Meeting pin</span>\n                            </div>\n                          </li>\n                        </ul>\n\n                        <div id=\"meet\">\n                          <video autoPlay muted playsInline id=\"preview\"></video>\n                          <div className=\"loader\" id=\"loader\">Loader</div>\n                        </div>\n\n                        <ul className=\"setting-fields\">\n                          <li>\n                            <label>Camera</label>\n                            <select className=\"dropdown\" name=\"user_camera_list\" id=\"user_camera_list\"></select>\n                          </li>\n                          <li>\n                            <label>Mic</label>\n                            <select className=\"dropdown\" name=\"user_mic_list\" id=\"user_mic_list\"></select>\n                          </li>\n                          <li>\n                            <label>Speaker</label>\n                            <select className=\"dropdown\" name=\"user_speaker_list\" id=\"user_speaker_list\"></select>\n                          </li>\n                        </ul>\n                        <div className=\"text-right\">\n                          <button type=\"submit\" className=\"join-meeting-button\" > Join</button>\n                        </div>\n                     \n                    </li>\n\n                  </ul>\n                  </form>\n                  )}\n                  </Formik>\n                </div>\n              </div>\n\n              <Footer />\n\n            </div>\n          </section>\n\n        </div>\n\n        <a className=\"speed-test\" href=\"#\">\n          <img src=\"images/speed.svg\" />\n          <span className=\"tooltiptext\">Speedtest</span>\n        </a>\n\n      </>\n    )\n  }\n}\n\nexport default Home;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AAEA;AACA;AADA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAnBA;AAAA;AAAA;AAAA;AAAA;AAoBA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AADA;AADA;AANA;AAYA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;;;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;AAGA;AACA;AACA;AACA;AACA;AAJA;AAOA;;AACA;AACA;;AADA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;AAEA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAxEA;AAoFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AArXA;AACA;AAuXA;;;;A","sourceRoot":""}